{
    "$schema": "https://turborepo.com/schema.json",
    "extends": ["//"],
    "tasks": {
        "build": {
            "dependsOn": ["@repo/db#generate"],
            "outputs": [
                "dist/**",
                "!tsconfig.build.tsbuildinfo",
                ".swc/**",
                ".well-known/**"
            ],
            "env": [
                "PORT",
                "AUTH_GOOGLE_ID",
                "AUTH_GOOGLE_SECRET",
                "AUTH_GITHUB_ID",
                "AUTH_GITHUB_SECRET",
                "BETTER_AUTH_SECRET",
                "BETTER_AUTH_URL",
                "UI_URL",
                "GEMINI_API_KEY",
                "GROQ_API_KEY",
                "PDF_SERVICES_CLIENT_ID",
                "PDF_SERVICES_CLIENT_SECRET",
                "ENCRYPTION_KEY",
                "UMLS_API_KEY",
                "UMLS_API_URL",
                "DATABASE_URL",
                "WORKFLOW_TARGET_WORLD",
                "WORKFLOW_POSTGRES_URL",
                "WORKFLOW_POSTGRES_JOB_PREFIX",
                "WORKFLOW_POSTGRES_WORKER_CONCURRENCY"
            ]
        },
        "migrate:prod": {
            "cache": false,
            "env": [
                "DATABASE_URL",
                "WORKFLOW_TARGET_WORLD",
                "WORKFLOW_POSTGRES_URL",
                "WORKFLOW_POSTGRES_JOB_PREFIX",
                "WORKFLOW_POSTGRES_WORKER_CONCURRENCY"
            ]
        }
    }
}
